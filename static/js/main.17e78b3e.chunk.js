(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],[,,,function(e,t,a){e.exports=a(10)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(2),c=a.n(o);a(8),a(9);var r=()=>{const[e,t]=Object(n.useState)("I want to");return l.a.createElement(n.Fragment,null,l.a.createElement("h1",{className:"text-center mt-5"},"PERN To Do List"),l.a.createElement("form",{className:"d-flex mt-5",onSubmit:async t=>{t.preventDefault();try{const t={description:e};await fetch("http://localhost:5000/todos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});window.location="/"}catch(a){console.error(a.message)}}},l.a.createElement("input",{type:"text",className:"form-control",value:e,onChange:e=>t(e.target.value)}),l.a.createElement("button",{className:"btn btn-success ms-2"},"Add")))};var s=e=>{let{todo:t}=e;const[a,o]=Object(n.useState)(t.description);return l.a.createElement(n.Fragment,null,l.a.createElement("button",{type:"button",class:"btn btn-warning","data-bs-toggle":"modal","data-bs-target":"#id".concat(t.todo_id)},"Edit"),l.a.createElement("div",{class:"modal",id:"id".concat(t.todo_id)},l.a.createElement("div",{class:"modal-dialog"},l.a.createElement("div",{class:"modal-content"},l.a.createElement("div",{class:"modal-header"},l.a.createElement("h4",{class:"modal-title"},"Edit Todo")),l.a.createElement("div",{class:"modal-body"},l.a.createElement("input",{type:"text",className:"form-control",value:a,onChange:e=>o(e.target.value)})),l.a.createElement("div",{class:"modal-footer"},l.a.createElement("button",{type:"button",class:"btn btn-warning","data-dismiss":"modal",onClick:e=>(async e=>{e.preventDefault();try{const e={description:a};await fetch("http://localhost:5000/todos/".concat(t.todo_id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});window.location="/"}catch(n){console.error(n.message)}})(e)},"Edit"),l.a.createElement("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal"},"Close"))))))};var d=()=>{const[e,t]=Object(n.useState)([]);return Object(n.useEffect)(()=>{(async()=>{try{const e=await fetch("http://localhost:5000/todos"),a=await e.json();t(a)}catch(e){console.error(e.message)}})()},[]),console.log(e),l.a.createElement(n.Fragment,null," ",l.a.createElement("table",{class:"table mt-5 text-center"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Description"),l.a.createElement("th",null,"Edit"),l.a.createElement("th",null,"Delete"))),l.a.createElement("tbody",null,e.map(a=>l.a.createElement("tr",{key:a.todo_id},l.a.createElement("td",null,a.description),l.a.createElement("td",null,l.a.createElement(s,{todo:a})),l.a.createElement("td",null,l.a.createElement("button",{className:"btn btn-danger",onClick:()=>(async a=>{try{await fetch("http://localhost:5000/todos/".concat(a),{method:"DELETE"});t(e.filter(e=>e.todo_id!==a))}catch(n){console.error(n.message)}})(a.todo_id)},"Delete")))))))};var m=function(){return l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:"container"},l.a.createElement(r,null),l.a.createElement(d,null)))};c.a.render(l.a.createElement(m,null),document.getElementById("root"))}],[[3,1,2]]]);
//# sourceMappingURL=main.17e78b3e.chunk.js.map